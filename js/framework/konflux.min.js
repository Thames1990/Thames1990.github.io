/*
 *       __    Konflux (version develop - 2015-05-06 19:07:06 +0200) - a javascript helper library
 *      /\_\
 *   /\/ / /   Copyright 2012-2014, Konfirm (Rogier Spieker)
 *   \  / /    Released under the MIT license
 *    \/_/     More information: http://konfirm.net/konflux
 */
!function(e,t){function n(e){return j===typeof O[e]&&(O[e]={}),O[e]}function r(){return Date.now?Date.now():(new Date).getTime()}function o(){var e,t,n={};for(e=0;e<arguments.length;++e)if(l("object",arguments[e]))for(t in arguments[e])n[t]=t in n&&l("object",n[t])?o(arguments[e][t],n[t]):arguments[e][t];return n}function i(){var e=864e5,t=36e5,n=6e4,r=Math.abs((new Date).getTime()-I),o=Math.floor(r/e),i=Math.floor((r-=o*e)/t),a=Math.floor((r-=i*t)/n),u=Math.floor((r-=a*n)/1e3),s=Math.floor(r-=1e3*u),c="000";return(o>0?o+"d ":"")+(c+i).substr(-2)+":"+(c+a).substr(-2)+":"+(c+u).substr(-2)+"."+(c+s).substr(-3)}function a(){return(++R+r()%864e5).toString(36)}function u(t,n){var r,o="kxref";if(t===e)r="window";else if(t===N)r="document";else if(t===N.documentElement)r="root";else if(t===N.head)r="head";else if(t===N.body)r="body";else{if(!(t&&"nodeType"in t&&1===t.nodeType))return!1;r=n?o in t?t[o]:null:t.getAttribute("data-"+o)}return r||(r=a(),n?t[o]=r:t.setAttribute("data-"+o,r)),r}function s(e){var t={array:function(e){return e.length>0},object:function(e){for(e in e)return!0;return!1},"boolean":function(e){return e},number:function(e){return 0!==e},string:function(e){return!/^0?$/.test(e)}},n=c(e);return l("function",t[n])&&t[n](e)?!1:!0}function c(e,t){var n,r=e instanceof Array?"array":null===e?"null":typeof e;return t&&"object"===r&&(n=/(?:function\s+)?(.{1,})\(/i.exec(e.constructor.toString()),n&&n.length>1&&"Object"!==n[1])?n[1]:r}function l(e,t){var n=c(t),r=e&&e.length?n.substr(0,e.length):null;if(r!==e)switch(n){case"object":r=c(t,!0).substr(0,e.length);break;case"number":r=(parseInt(t)===t?"integer":"float").substr(0,e.length)}return r===e}function f(e,t){return!!(t in e)}function h(e){var t,n=["info","warn","log"];for(t=0;t<n.length;++t)if(l("function",console[n[t]])){console[n[t]](i()+" DEPRECATED: "+e);break}}function p(){var e=this;return e.time=r,e.elapsed=i,e.unique=a,e.combine=o,e.empty=function(){for(var e=M.array.cast(arguments);e.length;)if(!s(e.shift()))return!1;return!0},e.type=c,e.isType=l,e.ready=function(e){return"event"in M?M.event.ready(e):!1},e.select=function(e,t){return"dom"in M?M.dom.select(e,t):new g([])},e.version=function(e){for(var t=L.split(" - "),n=["version","date","revision","type"],r={};n.length&&t.length;)r[n.shift()]=t.shift();return e?r:r.version},e.point=function(e,t){return new S(e,t)},e.iterator=function(e){return e instanceof g?e:new g(e)},this}function g(e){function n(){var t;e=e||[],"object"!=typeof e&&(e=[e]),"length"in e&&o("length");for(t in e)t in c||(c[t]=r(t));u=c.keys()}function r(t){return l("function",e[t])?function(){return e[t].apply(e,M.array.cast(arguments))}:e[t]}function o(t){try{return Object.defineProperty(c,t,{get:function(){return e[t]}})}catch(n){return c[t]=e[t]}}function i(t){var n,r;if(!("length"in e))return!1;if(e instanceof Array||(e=M.array.cast(e)),t instanceof g&&(t=t.collection()),t instanceof Array||(t=l("object",t)?[t]:M.array.cast(t)),t instanceof Array){for(n=e.length,e=e.concat(t),u=c.keys(),r=n;r<e.length;++r)o(r);return!0}return!1}function a(n,r,o){return function(i,a){var u,s,f,h;if(n in e&&l("function",e[n]))return new g(e[n].apply(e,arguments));for(u=e instanceof Array?[]:{},f=c.keys(),h=0;h<f.length;++h)if(s=r(i.apply(a||t,[e[f[h]],f[h],e]),e[f[h]])){if(o)return s;u[f[h]]=s}return M.iterator(u)}}var u,s,c=this;c.collection=function(){return e},c.cursor=function(t){var n;return t&&(e instanceof Array&&t in u?s=t:e instanceof Array||(n=M.array.contains(u,t),n&&(s=n))),n=s||0,e instanceof Array?n:u[n]},c.item=function(t){return"item"in e&&l("function",e.item)?e.item(t):"length"in e&&(t>=0||t<e.length)||t in e?e[t]:null},c.current=function(){return s||(s=0),j!==typeof u[s]?c.item(u[s]):!1},c.keys=function(){var e=[];return c.each(function(t,n){e.push(n)}),e},c.filter=a("filter",function(e,t){return e?t:!1}),c.find=a("find",function(e,t){return e?t:!1},!0),c.map=a("map",function(e){return e}),c.previous=function(){return s=Math.max(j!==typeof s?s-1:0,-1),c.current()},c.prev=c.previous,c.next=function(){return s=Math.min(j!==typeof s?s+1:0,u.length),c.current()},c.each=function(n,r){var o;if("length"in e)for(o=0;o<e.length;++o)n.apply(r||t,[e[o],o,c]);else for(o in e)n.apply(r||t,[e[o],o,c]);return c},c.add=function(){var e;for(e=0;e<arguments.length;++e)i(arguments[e]);return c},n()}function d(){function t(){for(var e=N.createElement("div"),t=e.getElementsByTagName("i"),n=3;e.innerHTML="<!--[if gt IE "+ ++n+"]><i></i><![endif]-->",t.length&&10>n;);return n=n>4?n:Function("/*@cc_on return document.documentMode;@*/return false")(),n?n:"-ms-ime-align"in N.documentElement.style?11:!1}function n(t){return l(j,s[t])?f(e,t)||f(N,t):s[t]}function r(t,n){var r,i,a=o(),u=n?n:[e,N,_],s=[];for(t instanceof Array||(t=[t]),i=0;i<t.length;++i)r=M.string.ucFirst(t[i]),s=s.concat([t[i],a+r,a.toLowerCase()+r]);for(;s.length;)for(t=s.shift(),i=0;i<u.length;++i)if(f(u[i],t))return u[i][t];return!1}function o(){var e,t=["Icab","Khtml","O","ms","Moz","webkit"],n=new RegExp("^("+t.join("|")+")(?=[A-Z])"),r=N.createElement("script");for(e in r.style)if(n.test(e)){i=e.match(n).shift();break}for(;!i&&t.length;)e=t.pop(),f(r.style,e+"Opacity")&&(i=e);return r=null,i}var i,a,u=this,s={touch:f(e,"ontouchstart")||f(_,"msMaxTouchPoints")};u.ie=function(e){return l(j,a)&&(a=t()),e&&a?e>a:a},u.prefix=function(){return i||(i=o()),i},u.feature=function(e,t){return!t||t instanceof Array||(t=[t]),r(e,t)},u.supports=function(){for(var e=!0,t=arguments.length;e&&--t>=0;)e=e&&n(arguments[t]);return e},u.fullscreen=function(e){var t,n,r=["fullScreen","isFullScreen"],o=M.browser.prefix().toLowerCase();for(e||(e=N.documentElement),n=0,t=null;n<r.length,null===t;++n)t=f(N,r[n])?r[n]:o+M.string.ucFirst(r[n]),f(N,t)||(t=null);o=t.match(new RegExp("^"+o))?o:null,o=(o||(N[t]?"cancel":"request"))+M.string.ucFirst((o?N[t]?"cancel":"request":"")+M.string.ucFirst(r[0])),(N[t]?N:e)[o](e.ALLOW_KEYBOARD_INPUT||null)}}function m(){function e(){var e=this,t={};e.append=function(n,r){return l("object",r)||(t[n]=r),e},e.serialize=function(){var e,n=[];for(e in t)n.push(e+"="+encodeURIComponent(t[e]));return n.join("&")}}function t(e){return h||(h={"X-Konflux":"konflux/"+M.string.ascii(M.version())}),M.url.isLocal(e)?h:{}}function n(){var e=new XMLHttpRequest;return e.__kxref=M.unique(),e}function r(e){var r,u="url"in e?e.url:M.url?M.url.path:null,s="type"in e?e.type.toUpperCase():"GET",c="data"in e?a(e.data):"",h="async"in e?e.async:!0,p="header"in e?o(e.header,t(u)):t(u),g=n();if(/^(POST|PUT)$/.test(s)||(u+="data"in e&&""!==e.data?"?"+("string"==typeof e.data?e.data:c):"",c=null),g.onload=function(){var t=Math.floor(.01*this.status),n=!1;++f[s],2===t&&"success"in e?(n="success",e.success.apply(this,i(this))):t>=4&&"error"in e&&(n="error",e.error.apply(this,i(this))),"complete"in e&&(n=n?n:"complete",e.complete.apply(this,[this.status,this.statusText,this])),n&&M.observer.notify("konflux.ajax."+s.toLowerCase()+"."+n,g,e)},"progress"in e&&l("function",e.progress)&&M.event.add(g.upload,"progress",e.progress),"error"in e&&l("function",e.error)&&M.event.add(g,"error",e.error),"abort"in e&&l("function",e.abort)&&M.event.add(g,"abort",e.abort),g.open(s,u,h),p)for(r in p)g.setRequestHeader(r,p[r]);return g.send(c),g}function i(e){var t,n=e.getResponseHeader("content-type"),r=[e.status,e.responseText,e];switch(n&&(t=n.match(/([^;]+)/))&&(n=t[1]),n){case"application/json":r[1]=JSON.parse(r[1])}return r}function a(t,n,r){var o,i=r||(j!==typeof FormData?new FormData:new e);if(j!==typeof File&&t instanceof File)i.append(n,t,t.name);else if(j!==typeof Blob&&t instanceof Blob)i.append(n,t,"blob");else if(t instanceof Array||j!==FileList&&t instanceof FileList)for(o=0;o<t.length;++o)a(t[o],(n||"")+"["+o+"]",i);else if(l("object",t))for(o in t)a(t[o],n?n+"["+encodeURIComponent(o)+"]":encodeURIComponent(o),i);else i.append(n,t);return i}function u(e){var t=function(t){switch(c(t)){case"object":t.type=e;break;case"string":t={url:t,type:e};break;default:t={type:e}}return r(t)};return f[e.toUpperCase()]=0,M.observer.subscribe("konflux.ajax."+e.toLowerCase(),function(e,n){t(n)}),t}var s=this,f={},h=!1;e.prototype.toString=function(){return this.serialize()},s.request=r,s.get=u("GET"),s.post=u("POST"),s.put=u("PUT"),s.del=u("DELETE"),s.purge=u("PURGE")}function v(){function t(e){for(var t=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n=["source","protocol","domain","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],r={};n.length;)r[n.shift()]=t.length?t.shift():"";return r.query&&r.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){l("object",r.query)||(r.query={}),t&&(r.query[t]=n)}),r}var n=this;n.current=l(j,e.location.href)?!1:t(e.location.href),n.parse=t,n.isLocal=function(e){return n.current.domain===n.parse(e).domain}}function y(){function t(e){var t=0;if("float"===e)return"cssFloat";for(;(t=e.indexOf("-",t))>=0;)e=e.substr(0,t)+e.charAt(++t).toUpperCase()+e.substring(t+1);return e}function n(e){return"cssFloat"===e&&(e="float"),e.replace(/([A-Z])/g,"-$1").toLowerCase()}function r(e,n){return e=t(e),n=n||N.body,e in n.style?e:(e=M.browser.prefix()+M.string.ucFirst(e),e in n.style?e:!1)}function i(){var e,t=N.styleSheets,n=[];for(e=0;e<t.length;++e)M.url.isLocal(t[e].href)&&n.push(t[e]);return n}function u(e,t){var n,r=t?N.styleSheets:i(),o=[];switch(e){case"first":r.length>0&&(o=[r[0]]);break;case"last":r.length>0&&(o=[r[r.length-1]]);break;default:if("all"===e)o=r;else if(e){if(r.length>0)for(n=0;n<r.length;++n)r[n].href&&r[n].href.substr(-e.length)===e?o.push(r[n]):r[n].title&&r[n].title===e&&o.push(r[n])}else o=!1}return o}function s(e,t){var n=u(e,!0);return t&&0===n.length&&(n=u(t,!0)),n.length>0?n[0]:!1}function f(e,t,n){var r=s(e,n),o=N.head||N.getElementsByTagName("head")[0];return r||(r=N.createElement(e?"link":"style"),r.setAttribute("type","text/css"),r.setAttribute("title",n||"konflux.style."+a()),/link/i.test(r.nodeName)&&(r.setAttribute("rel","stylesheet"),r.setAttribute("href",e)),t&&N.head.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r)),r}function h(e){var n,r,o=e.split(/\s*;\s*/),i={};for(n=0;n<o.length;++n)r=o[n].split(/\s*:\s*/),""!==r[0]&&(i[t(r.shift())]=g(r.join(":")));return i}function p(e){return e.split(/\s+/).join(" ").toLowerCase()}function g(e){var t,n={" ":/\s+/g,'"':/["']/g,",":/\s*,\s*/g,".":/\b0+\./g,0:/0(?:px|em|%|pt)\b/g};for(t in n)e=e.replace(n[t],t);return n=e.match(/#([0-9a-f]+)/),n&&n.length>0&&(n=n[1],n.length%3!==0?n=M.string.pad(n,6,"0"):3===n.length&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),e="rgb("+[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)].join(",")+")"),e}var d=this;d.addClass=function(e,t){var n=M.string.trim(e.className).split(/\s+/);return e.className=n.concat(M.array.diff(t.split(/[,\s]+/),n)).join(" "),e.className},d.removeClass=function(e,t){var n,r,o=M.string.trim(e.className).split(/\s+/),i=M.string.trim(t).split(/[,\s]+/);for(n=0;n<i.length;++n)r=M.array.contains(o,i[n]),r!==!1&&o.splice(r,1);return e.className=o.join(" "),e.className},d.toggleClass=function(e,t){var n,r,o=M.string.trim(e.className).split(/\s+/),i=M.string.trim(t).split(/[,\s]+/);for(n=0;n<i.length;++n)r=M.array.contains(o,i[n]),r!==!1?o.splice(r,1):o.push(i[n]);return e.className=o.join(" "),e.className},d.inline=function(e,t){var n,o;for(n in t)o=r(n),o&&(e.style[o]=t[n]);return d},d.selector=function(e,t){var n=e.nodeName.toLowerCase(),r=e.hasAttribute("id")?"#"+e.getAttribute("id"):null,o=e.hasAttribute("class")?"."+M.string.trim(e.getAttribute("class")).split(/\s+/).join("."):null,i="";return(1===arguments.length||r||o)&&(i=(t?"":n)+(r||o||"")),M.string.trim((!r&&e.parentNode&&e!==N.body?d.selector(e.parentNode,!0)+" ":"")+i)},d.sheet=function(e,t){var n,r=u(l("string",e)?e:null,t===!1?!0:!1);if(!l(j,e.nodeName))for(n=0;n<r.length;++n)if(r[n].ownerNode===e)return[r[n]];return r},d.create=function(e,t){var n=f(!1,t,e);return n.sheet||!1},d.load=function(e,t,n){var r=f(e,n);return l(j,r.ownerNode)?t&&M.event.add(r,"load",function(e){t.apply(r,[e])}):(r=r.ownerNode,t&&setTimeout(function(){t.apply(r,[r])},1)),r},d.isEditable=function(e){var t,n=i(),r=l(j,e.ownerNode)?e:e.ownerNode;for(t=0;t<n.length;++t)if(n[t].ownerNode===r)return!0;return!1},d.add=function(e,t,o,i){var a,s,c,p="";if(l("object",e)&&"nodeType"in e&&(e=d.selector(e,i)||d.selector(e)),l("string",t)&&(t=h(t)),!l("object",t))return!1;if((!o||l("string",o))&&(o=u(o||"last")),o instanceof Array)if(1===o.length)o=o[0];else{if(!(o.length<=0)){for(p=!0,s=0;s<o.length;++s)p=p&&d.add(e,t,o[s]);return p}o=f().sheet}a=d.find(e,o);for(s in t)s in a&&g(a[s])===g(t[s])||(c=r(s),c&&(p+=(""!==p?";":"")+n(c)+":"+t[s]));return o.addRule?o.addRule(e,p):o.insertRule?o.insertRule(e+"{"+p+"}",o.cssRules.length):!1},d.find=function(e,t){var n,r,i,a={};for(e&&(e=p(e)),t?t instanceof Array||(t=[t]):t=u(),r=0;r<t.length;++r)if(n=c(t[r].cssRules)?t[r].cssRules:t[r].rules,n&&n.length)for(i=0;i<n.length;++i)"selectorText"in n[i]&&(!e||p(n[i].selectorText)===e)&&(a=o(a,h(n[i].style.cssText)));return a},d.get=function(o,i,a){var u;return i=r(i),i&&(o.currentStyle?u=o.currentStyle(t(i)):e.getComputedStyle&&(u=N.defaultView.getComputedStyle(o,a||null).getPropertyValue(n(i)))),u},d.property=r,d.specificity=function(e){var t,n=[0,0,0,0],r=M.string.trim(e.replace(/([#\.\:\[]+)/g," $1")).split(/[^a-z0-9\.\[\]'":\*\.#=_-]+/);for(t=0;t<r.length;++t)++n[/^#/.test(r[t])?1:/^(?:\.|\[|:[^:])/.test(r[t])?2:3];return n.join(".")}}function b(){var e=this;e.even=function(e){return e=+e,(0|e)===e&&e%2===0},e.odd=function(t){return t=+t,(0|t)===t&&!e.even(t)},e.between=function(e,t,n){return e=+e,t=+t,n=+n,e>=Math.min(t,n)&&e<=Math.max(t,n)},e.format=function(e,t,n,r){var o=t?Math.pow(10,t):0;return n=l(j,n)?".":n,r=!l(j,r)||arguments.length<3?r:",",e=+(""+e).replace(/[,\.]+/,"."),e=o>0?Math.round(e*o)/o:e,e=(""+(isFinite(e)?+e:0)).split("."),e[0].length>3&&r&&""!==r&&(e[0]=M.string.chunk(e[0],3,M.string.CHUNK_END).join(r)),e[0]+(t>0?n+M.string.pad(e[1]||"",t,"0",M.string.PAD_RIGHT):"")}}function x(){function e(e){for(var t=0,n=0,r=e.length;r>n;++n)t=(t=31*t+e.charCodeAt(n))&t;return t}function t(t){for(var n=16,r=("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"+t).substr(-(Math.ceil((t.length||1)/n)*n)),o=0;r.length;)o+=e(r.substr(0,n)),r=r.substr(n);return Math.abs(o).toString(36)}function n(e){return e.charCodeAt(0)}function r(e){return String.fromCharCode(e)}function o(e,t,n,r){return n=Array(t+1).join(n),(t-=e.length)>0&&(r=r===c.PAD_LEFT?t:r===c.PAD_BOTH?Math.ceil(t/2):0)!==!1?(r>0?n.substr(0,r):"")+e+n.substr(0,t-r):e}function i(e){for(var t=e.length,r=0;t>0;r+=t*n(e[--t]));return Math.abs(r+""+e.length|0).toString(36)}function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function u(e,t,n){var r,o=""+e,i=[];if(t&&1!==t)if(e.length<t)i.push(e);else if(n)for(r=o.length;r>0;i.unshift(o.substr(r-=Math.min(o.length,t))),o=o.substring(0,r));else for(;o.length>0,i.push(o.substring(0,t)),o=o.substr(t););else i=o.split("");return i}function s(e,t){var n,r,o,i=[];for(n=0;n<e.length;++n){o=e.substr(n,1);for(r in t)if(M.array.contains(t[r],o.charCodeAt(0))!==!1){o=r;break}i.push(o)}return i.join("")}var c=this;c.PAD_LEFT=1,c.PAD_BOTH=2,c.PAD_RIGHT=3,c.TRIM_LEFT=1,c.TRIM_BOTH=2,c.TRIM_RIGHT=3,c.CHUNK_START=1,c.CHUNK_END=2,c.ascii=function(e,t){return s(e,t||{A:[192,193,194,195,196,197],C:[199],E:[200,201,202,203],I:[204,205,206,207],D:[208],N:[209],O:[210,211,212,213,214,216],U:[217,218,219,220],Y:[221],ss:[223],a:[224,225,226,227,228,229],beta:[946],c:[231],e:[232,233,234,235],i:[236,237,238,239],n:[241],o:[240,242,243,244,245,246],u:[249,250,251,252],y:[253]})},c.trim=function(e,t,n){var r,o,i=t||" \n\r	\f";for(o=e.length;o>0&&n!==c.TRIM_LEFT&&i.indexOf(e.charAt(--o))>=0;);for(r=0;o>r&&n!==c.TRIM_RIGHT&&i.indexOf(e.charAt(r))>=0;++r);return e.substring(r,o+1)},c.reverse=function(e){for(var t=e.length,n="";t>0;n+=e[--t]);return n},c.pad=function(e,t,n,r){return o(e,t,n||" ",r||c.PAD_RIGHT)},c.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},c.hash=t,c.checksum=i,c.uuid=a,c.ord=n,c.chr=r,c.chunk=function(e,t,n){return u(e,t||1,n===c.CHUNK_END)},c.escapeRegExp=function(e,t){var n=".\\+*?[^]$(){}=!<>|:-".split(""),r=new RegExp("["+n.concat(t?[t]:[]).join("\\")+"]","g");return l("string",e)?e.replace(r,"\\$&"):""}}function E(){function e(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return!1}function t(t,n){var r,o=[];for(r=0;r<t.length;++r)e(n,t[r])===!1&&o.push(t[r]);return o}function n(e,t){var n=[];for(t-=e;n.length<=t;)n.push(e+n.length);return n}function r(e){for(var t,n,r=e.length;r;t=Math.random()*r|0,n=e[--r],e[r]=e[t],e[t]=n);return e}function o(e){var t,n,r=!1;switch(c(e)){case"object":if(!("length"in e)){r=[e];break}try{r=Array.prototype.slice.call(e)}catch(o){for(r=[],t=e.length,n=0;t>n;++n)r.push(e[n])}break;case"null":case"undefined":r=[];break;default:r=[e]}return r}var i=this;i.contains=e,i.diff=t,i.range=n,i.shuffle=r,i.cast=o}function w(){function e(t,n){var r,o;if(l("string",t)&&(t=N.querySelector(t)),n instanceof Array)for(r=[],o=0;o<n.length;++o)r.push(e(t,n[o]));else r=t.appendChild(n);return r}function t(e,t){if(f(e,"contains"))return e.contains(t);for(;t!==e&&(t=t.parentNode););return!!t}function n(t,r){var o,i,a,u;switch(c(t)){case"array":for(i=[],u=0;u<t.length;++u)i.push(n(t[u]));break;case"object":o="tag"in t?t.tag:"name"in t?t.name:"div",i=/^[a-z]+[a-z0-9-]*$/i.test(o)?N.createElement(o):(r?r.querySelector(o):null)||N.querySelector(o);for(a in t)switch(a){case"name":"tag"in t&&i.setAttribute("name",t[a]);break;case"child":case"content":e(i,n(t[a],i));break;case"class":case"className":i.setAttribute("class",t[a]);break;default:i.setAttribute(a,t[a])}break;case"boolean":t=t?"true":"false";default:i=N.createTextNode(t)}return i}function r(e){var t=+M.style.get(e,"z-index"),n=parseFloat(M.style.get(e,"opacity")),r=M.style.get(e,"position"),i=M.style.get(e,"display"),a=M.style.get(e,"float"),u="static"!==r&&"auto"!==t||1>n,s=/^(?:(?:inline\-)?block|list\-item|table(?:\-(?:cell|caption|column|row))?|table\-(?:column|footer|header|row)\-group|flex|grid)$/.test(i),c=parseInt(["fixed"===r?1:0,u&&("auto"===t||t>=0)?1:0,"static"===r||u?0:1,"none"!==a||"static"!==r||s?0:1,"none"===a||u||"static"!==r?0:1,"none"===a&&"static"===r&&s?1:0,u&&0>t?1:0].join(""),2);return{type:c,index:"static"===r&&t&&"auto"!==t?t:0,context:0!==(o.STACK_NEGATIVE&c||o.STACK_POSITIONED&c||o.STACK_POSITIVE&c||o.STACK_GLOBAL&c)}}var o=this;o.STACK_NEGATIVE=1,o.STACK_BLOCK=o.STACK_NEGATIVE<<1,o.STACK_FLOAT=o.STACK_BLOCK<<1,o.STACK_INLINE=o.STACK_FLOAT<<1,o.STACK_POSITIONED=o.STACK_INLINE<<1,o.STACK_POSITIVE=o.STACK_POSITIONED<<1,o.STACK_GLOBAL=o.STACK_POSITIVE<<1,o.create=n,o.appendTo=function(t,r){return e(t,l("object",r)&&!l(j,r.nodeType)?r:n(r,t))},o.contains=t,o.select=function(e,t){return new g((t||N).querySelectorAll(e))},o.reference=function(e){return u(e)},o.stackLevel=r}function T(){function t(t){function r(e){var t=e?e.match(/^([^\.]*)?(?:\.(.+))?$/):["","*","*"];return{name:t[1]||"*",namespace:t[2]||"*"}}function o(e){return M.dom.reference(e)}function i(e){return(e+"").replace(/\s+|\/\*.*?\*\//g,"")}function a(n,r,a,u,s,c){var h=[o(n),r,a,u?i(u):!1,c||!1,i(s)].join(l);return h in f||(f[h]={target:n,namespace:r,type:a,filter:u,capture:c||!1,delegate:function(r){var o,i=r||e.event;u?(!("target"in i)&&"srcElement"in i&&(i.target=i.srcElement),M.select(u,n).each(function(e){(i.target===e||M.dom.contains(e,i.target))&&(i.delegate=n,o=s.apply(e,[t(i)]))})):s&&(o=s.apply(n,[t(i)])),o===!1&&(i.stopPropagation?i.stopPropagation():i.cancelBubble&&(i.cancelBubble=!0))}}),f[h]}function u(e){e in f&&delete f[e]}function s(e,t,n,r,a){var u,s=".*?",c=new RegExp(["^"+(e?M.string.escapeRegExp(o(e)):s),t&&"*"!==t?M.string.escapeRegExp(t):s,n&&"*"!==n?M.string.escapeRegExp(n):s,r?M.string.escapeRegExp(i(r)):s,s,(a?M.string.escapeRegExp(i(a)):s)+"$"].join(l)),h={};for(u in f)c.test(u)&&(h[u]=f[u]);return h}var c=this,l="!",f=n("event.store");c.find=function(e,t,n,o){var i,a=r(t),u=s(e,a.namespace,a.name,n,o),c=[];for(i in u)c.push(u[i]);return c},c.remove=function(e,t,n,o){var i,a=r(t),c=s(e,a.namespace,a.name,n,o),l=[];for(i in c)l.push(c[i]),u(i);return l},c.create=function(e,t,n,o,i){var u=r(t);return a(e,u.namespace,u.name,n,o,i||!1)}}function r(t){var n,o=!1;if(N.removeEventListener?(N.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1),o=!0):"complete"===N.readyState&&(N.detachEvent("onreadystate",r),e.detachEvent("onload",r),o=!0),o&&x.ready)for(n in x.ready)x.ready[n].call(t)}function o(e,t){var n,r=e.match(/^(transition|animation)(end|iteration|start)$/i);return r&&(n=M.style.property(r[1],t))!==r[1]&&(n=n.substr(0,n.length-r[1].length),e=n["to"+(n.length<=2?"Upper":"Lower")+"Case"]()+M.string.ucFirst(r[1])+M.string.ucFirst(r[2])),e}function i(e){var t,n="!afterprint!beforeprint!canplay!canplaythrough!change!domcontentloaded!durationchange!emptied!ended!input!invalid!loadeddata!loadedmetadata!offline!online!pause!play!playing!ratechange!readystatechange!reset!seeked!seeking!stalled!submit!suspend!timeupdate!volumechange!waiting!abort!domactivate!error!load!resize!scroll!select!unload!animationend!animationiteration!animationstart!beforeunload!blur!domfocusin!domfocusout!focus!focusin!focusout!click!contextmenu!dblclick!mousedown!mouseenter!mouseleave!mousemove!mouseout!mouseover!mouseup!show!compositionend!compositionstart!compositionupdate!copy!cut!paste!drag!dragend!dragenter!dragleave!dragover!dragstart!drop!hashchange!keydown!keypress!keyup!pagehide!pageshow!popstate!touchcancel!touchend!touchmove!touchstart!transitionend!wheel!",r=n.indexOf("!"+e.toLowerCase()+"!");return 0>r?t="Custom":277>r?t="HTML":334>r?t="UI":381>r?t="Animation":394>r?t="BeforeUnload":445>r?t="Focus":546>r?t="Mouse":596>r?t="Composition":611>r?t="Clipboard":668>r?t="Drag":679>r?t="HashChange":702>r?t="Keyboard":720>r?t="PageTransition":729>r?t="PopState":771>r?t="Touch":777>r?t="Transition":786>r&&(t="Wheel"),t+"Event"}function a(e,t){return"__kxEvent_"+t+"_"+M.dom.reference(e)}function u(t){var n=t||e.event;return l(j,n.target)&&(n.target=l(j,n.srcElement)?null:n.srcElement),l(j,n.type)&&(n.type=n.eventType),n.family=i(n.type),/^(mouse[a-z]+|drag(?:[a-z]+)?|drop|(?:dbl)?click)$/i.test(n.type)&&(n.mouse=M.point(n.pageX?n.pageX:n.clientX?n.clientX+N.body.scrollLeft+N.documentElement.scrollLeft:0,n.pageY?n.pageY:n.clientY?n.clientY+N.body.scrollTop+N.documentElement.scrollTop:0)),n}function s(t){return t||(t=[]),t===e&&(t=[t]),l("string",t)&&(t=N.querySelectorAll(t)),l("number",t.length)||(t=[t]),M.iterator(t)}function c(e){return l("string",e)?e=e.replace(/\*/g,"").split(/[\s*,]+/):e||(e=[]),M.iterator(e)}function f(e,n,r,o,i){v||(v=new t(u)),n=c(n),s(e).each(function(e){n.each(function(t){var n=v.create(e,t,r,o,i||r?!0:!1);g(n.target,n.type,n.delegate,n.capture)})})}function p(e,t,n,r){var o,i=[];if(v&&(e?s(e).each(function(e){t?c(t).each(function(t){i=i.concat(v.find(e,t,n,r))}):i=i.concat(v.find(e,null,null,r))}):i=i.concat(v.find(null,null,null,r)),i.length>0)){for(o=0;o<i.length;++o)d(i[o].target,i[o].type,i[o].delegate,i[o].capture),v.remove(i[o].target,i[o].type,n,r);return!0}return!1}function g(e,t,n,r){var u;if(e.addEventListener)e.addEventListener(o(t),n,r);else if(e.attachEvent)switch(i(t)){case"CustomEvent":u=a(e,t),u in e||Object.defineProperty(e,u,{configurable:!0,enumerable:!1,get:function(){return t},set:function(e){var n,r="on"+t;if(r in this||(this[r]=[]),l("function",e))this[r].push(e);else for(e.returnValue=!0,e.srcElement=this,n=0;n<this[r].length&&(this[r][n].apply(this,[e]),e.returnValue);++n);}}),e[u]=n;break;default:e.attachEvent("on"+t,n)}}function d(e,t,n,r){if(e.removeEventListener)e.removeEventListener(o(t),n,r);else if(e.detachEvent)switch(i(t)){case"CustomEvent":delete e[a(e,t)];break;default:e.detachEvent("on"+t,n)}}function m(e,t,n){var r,o=i(t)||"CustomEvent",u=M.browser.feature(o),c=n||{},f=!1;return u&&l("function",u)?f=new u(t,{detail:c,cancelable:!0}):"createEvent"in N?(f=N.createEvent(o),n||"CustomEvent"===o?f.initCustomEvent(t,!1,!0,c):f.initEvent(t,!1,!0)):"createEventObject"in N&&(f=N.createEventObject(),f.eventType=t,f.detail=c),f?(s(e).each(function(e){"dispatchEvent"in e?e.dispatchEvent(f):"fireEvent"in e&&("CustomEvent"===o?(r=a(e,t),l(j,e[r])||(e[r]=f)):e.fireEvent("on"+t,f))}),!0):!1}var v,y,b=this,x=n("event.queue");b.add=function(e,t,n,r,o){return setTimeout(function(){f.apply(b,[e,t].concat(l("function",n)?[null,n,r]:[n,r,o]))},1),b},b.remove=function(e,t,n,r){var o=[e,t,n,r];return l("function",e)?o=[null,null,null,e]:l("function",t)?o=[e,null,null,t]:l("function",n)&&(o=[e,t,null,n]),p.apply(b,o),b},b.listen=function(e,t,n){return h("konflux.event.listen will be deprecated, use konflux.event.add instead(which is a drop-in replacement)"),b.add(e,t,n)},b.live=function(e,t,n,r){return h("konflux.event.live will be deprecated, use konflux.event.add instead(which is a drop-in replacement)"),b.add(e,t,n,r)},b.trigger=function(e,t,n){return m(e,t,n)},b.hasTouch=function(){return l("boolean",y)||(y=M.browser.supports("touch")),y},b.ready=function(t){return/^interactive|complete$/.test(N.readyState)?(setTimeout(t,1),!0):(j===typeof x.ready&&(x.ready=[],N.addEventListener?(N.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1)):(N.attachEvent("onreadystatechange",r),e.attachEvent("onload",r))),x.ready.push(t),!1)}}function A(){function e(e,t,n){function r(){clearTimeout(u)}function i(){u=setTimeout(function(){o||(o=M.browser.feature("requestAnimationFrame")||function(e){setTimeout(e,16)}),o(r),e.call()},t)}var a=this,u=null;a.cancel=r,a.reference=function(){return n},i()}function t(e){j!==typeof u[e]&&(u[e].cancel(),delete u[e])}function r(n,r,o){return o?t(o):o=n.toString()||a(),u[o]=new e(n,r||0,o),u[o]}var o,i=this,u=n("timing.delay");i.remove=t,i.create=r}function C(){function e(e,t,n){var o=this;o.type=e,o.reference=n,o.timeStamp=r(),o.timeDelta=i(),o.unsubscribe=function(){return u(e,t)},o.stop=function(){g[n]=!1}}function t(e){j===typeof p[e]&&(p[e]=[])}function o(e,n){return t(e),p[e].push(n)}function u(e,t){var n;for(n=0;n<p[e].length;++n)p[e][n]===t&&(p[e][n]=!1)}function s(e,n){var r,o=[],i=[];for(t(e),r=0;r<p[e].length;++r)(p[e][r]&&p[e][r]!==n?i:o).push(p[e][r]);return p[e]=i,o}function c(e){var t=!1;return l(j,p[e])||(t=p[e],delete p[e]),t}function f(t){for(var n,r,o=M.array.cast(arguments),i=a(),u=t.split("."),s=!1;u.length>=0;){if(g[i]=!0,n=u.join(".")+(s?(u.length?".":"")+"*":""),s=!0,j!==typeof p[n])for(r=0;r<p[n].length&&g[i];++r)p[n][r]&&(o[0]=new e(t,p[n][r],i),p[n][r].apply(p[n][r],o));if(!u.pop())break}delete g[i]}var h=this,p=n("observer.subscriptions"),g=n("observer.active");h.subscribe=function(e,t,n){var r,i=e.split(/[\s,]+/),a=!0;for(r=0;r<i.length;++r)a=(o(i[r],t)?!0:!1)&&a;return n&&n.apply(h,[a]),h},h.unsubscribe=function(e,t,n){var r,o=e.split(/[\s,]+/),i=[];for(r=0;r<o.length;++r)i=i.concat(t?s(o[r],t):c(o[r]));return n&&n.apply(h,[i]),h},h.notify=function(){var e,t=M.array.cast(arguments),n=t.shift().split(/[\s,]+/);for(e=0;e<n.length;++e)f.apply(h,[n[e]].concat(t))}}function S(e,t){var n=this;n.x=e||0,n.y=t||0,n.to=function(e,t){return n.x=e,n.y=t,n},n.snap=function(e){return n.x=e?Math.round(n.x/e)*e:Math.round(n.x),n.y=e?Math.round(n.y/e)*e:Math.round(n.y),n},n.clone=function(){return new S(n.x,n.y)},n.move=function(e,t){return n.x+=e,n.y+=t,n},n.equal=function(e,t){return t?Math.round(n.x)===Math.round(e.x)&&Math.round(n.y)===Math.round(e.y):n.x===e.x&&n.y===e.y},n.scale=function(e){return n.x*=e,n.y*=e,n},n.subtract=function(e){return new S(n.x-e.x,n.y-e.y)},n.add=function(e){return new S(n.x+e.x,n.y+e.y)},n.distance=function(e){return Math.sqrt(Math.pow(Math.abs(n.x-e.x),2)+Math.pow(Math.abs(n.y-e.y),2))},n.angle=function(e){return Math.atan2(e.x-n.x,e.y-n.y)},n.max=function(){var e,t=n.x,r=n.y;for(e=0;e<arguments.length;++e)t=Math.max(t,arguments[e].x),r=Math.max(r,arguments[e].y);return new S(t,r)},n.min=function(){var e,t=n.x,r=n.y;for(e=0;e<arguments.length;++e)t=Math.min(t,arguments[e].x),r=Math.min(r,arguments[e].y);return new S(t,r)},n.iso=function(e){return e=(e||30)*Math.PI/180,new S(n.x-n.y,(n.x+n.y)*e)},n.mid=function(e){return new S(.5*(n.x+e.x),.5*(n.y+e.y))}}function k(){function t(e){var t,n,r,o,i,a=e?e.match(h):!1;if(a){for(n=parseInt(a[1],10),r=parseInt(a[2],10),o=a[3],e="",i=0;n>i;++i){if(t=f.getItem(o+i),null===t)return!1;e+=t}if(!e||e.length!==r)return!1}return e}function n(e,t){var n,r="__"+e,o=Math.ceil(t.length/c);for(n=0;o>n;++n)f.setItem(r+n,t.substring(n*c,Math.min((n+1)*c,t.length)));f.setItem(e,"[fragment:"+o+","+t.length+","+r+"]")}function r(e){var t,n=parseInt(e[1],10),r=e[3];for(t=0;n>t;++t)u(r+t)}function o(){var e,t,n=null;if(f)for(n={},e=0;e<f.length;++e)t=f.key(e),n[t]=i(t);return n}function i(e){var n=f?f.getItem(e):!1;return n&&n.match(h)&&(n=t(n)),n&&n.match(/^[a-z0-9]+:.*$/i)&&(n=/([a-z0-9]+):(.*)/i.exec(n),n.length>2&&n[1]===M.string.checksum(n[2]))?JSON.parse(n[2]):n?n:!1}function a(e,t){return t=JSON.stringify(t),t=M.string.checksum(t)+":"+t,f?t.length>c?n(e,t):f.setItem(e,t):!1}function u(e){var t,n;return f?(t=f.getItem(e),t&&(n=t.match(h))&&r(n),f.removeItem(e)):!1}var s=this,c=2048,f=l(j,e.localStorage)?!1:e.localStorage,h=/^\[fragment:([0-9]+),([0-9]+),([a-z0-9_]+)\]$/;s.get=function(e){return e?i(e):o()},s.set=a,s.remove=u,s.length=function(){return f?f.length:!1},s.keys=function(){var e,t=o(),n=[];for(e in t)n.push(e);return n},s.flush=function(){var e,t=s.keys();for(e=0;e<t.length;++e)u(t[e])},s.size=function(){return decodeURI(encodeURIComponent(JSON.stringify(localStorage))).length}}var I,M,L="develop - 2015-05-06 19:07:06 +0200 - 992a379 - min",N=e.document,_=e.navigator,j="undefined",O={},R=0;I=r(),M=new p,M.observer=new C,M.browser=new d,M.url=new v,M.ajax=new m,M.style=new y,M.number=new b,M.string=new x,M.array=new E,M.dom=new w,M.event=new T,M.timing=new A,M.storage=new k,e.konflux=e.kx=M}(window);
//# sourceMappingURL=konflux.map